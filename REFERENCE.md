# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`logrotate`](#logrotate): Configure LogRotate global options  Use ``logrotate::rule`` for specific configuration options.

### Defined types

* [`logrotate::rule`](#logrotaterule): Add a LogRotate Configuration  If options have a 'no' variant, then the no variant will be set if you set the primary value to false  The ``l

### Data types

* [`Logrotate::Periods`](#logrotateperiods): Allowed time intervals for logrotate
* [`Logrotate::Size`](#logrotatesize): Size of a log in bytes, kilobytes, megabytes or gigabytes

## Classes

### <a name="logrotate"></a>`logrotate`

Configure LogRotate global options

Use ``logrotate::rule`` for specific configuration options.

#### Parameters

The following parameters are available in the `logrotate` class:

* [`rotate_period`](#rotate_period)
* [`rotate`](#rotate)
* [`create`](#create)
* [`compress`](#compress)
* [`configdir`](#configdir)
* [`include_dirs`](#include_dirs)
* [`manage_wtmp`](#manage_wtmp)
* [`dateext`](#dateext)
* [`dateformat`](#dateformat)
* [`dateyesterday`](#dateyesterday)
* [`maxsize`](#maxsize)
* [`minsize`](#minsize)
* [`package_ensure`](#package_ensure)
* [`logger_service`](#logger_service)

##### <a name="rotate_period"></a>`rotate_period`

Data type: `Logrotate::Periods`

How often to rotate the logs

Default value: `'weekly'`

##### <a name="rotate"></a>`rotate`

Data type: `Integer[0]`

The number of times to rotate the logs before removing them from the
system

Default value: `4`

##### <a name="create"></a>`create`

Data type: `Boolean`

Create new log files if they do not exist

Default value: ``true``

##### <a name="compress"></a>`compress`

Data type: `Boolean`

Compress the logs upon rotation

Default value: ``true``

##### <a name="configdir"></a>`configdir`

Data type: `Stdlib::Absolutepath`

The primary directory for SIMP-managed configuration files.

Default value: `'/etc/logrotate.simp.d'`

##### <a name="include_dirs"></a>`include_dirs`

Data type: `Array[Stdlib::Absolutepath]`

Directories to include in your logrotate configuration

* ``$logrotate::configdir`` is always included and is listed first
* Be sure to include ``/etc/logrotate.d`` in this list if you
  override the default.

Default value: `[ '/etc/logrotate.d' ]`

##### <a name="manage_wtmp"></a>`manage_wtmp`

Data type: `Boolean`

Set to ``false`` if you do not want ``/var/log/wtmp`` to be managed by
logrotate

Default value: ``true``

##### <a name="dateext"></a>`dateext`

Data type: `Boolean`

Use ``dateext`` as the suffix for rotated files

Default value: ``true``

##### <a name="dateformat"></a>`dateformat`

Data type: `String[1]`

The format of the date to be appended

* Leaving as is allows for multiple rotations per day

Default value: `'-%Y%m%d.%s'`

##### <a name="dateyesterday"></a>`dateyesterday`

Data type: `Optional[Boolean]`

Say 'yesterday' instead of the date

Default value: ``undef``

##### <a name="maxsize"></a>`maxsize`

Data type: `Optional[Logrotate::Size]`

The default maximum size of a logfile

Default value: ``undef``

##### <a name="minsize"></a>`minsize`

Data type: `Optional[Logrotate::Size]`

The default minimum size of a logfile

* Overrides the ``maxsize`` setting

Default value: ``undef``

##### <a name="package_ensure"></a>`package_ensure`

Data type: `String[1]`

The ensure status of packages to be installed

Default value: `simplib::lookup('simp_options::package_ensure', { 'default_value' => 'installed' })`

##### <a name="logger_service"></a>`logger_service`

Data type: `String[1]`

The service that controls system logging

* This is used by the ``logrotate::rule`` define to note the name of the
  service to be restarted if, and only if, the default lastaction is
  enabled.

Default value: `'rsyslog'`

## Defined types

### <a name="logrotaterule"></a>`logrotate::rule`

Add a LogRotate Configuration

If options have a 'no' variant, then the no variant will be set if you set
the primary value to false

The ``logrotate(5)`` man page should be referenced for any undocumented
parameter.

* **See also**
  * logrotate(5)

#### Parameters

The following parameters are available in the `logrotate::rule` defined type:

* [`name`](#name)
* [`log_files`](#log_files)
* [`compress`](#compress)
* [`compresscmd`](#compresscmd)
* [`uncompresscmd`](#uncompresscmd)
* [`compressext`](#compressext)
* [`compressoptions`](#compressoptions)
* [`copy`](#copy)
* [`copytruncate`](#copytruncate)
* [`create`](#create)
* [`rotate_period`](#rotate_period)
* [`dateext`](#dateext)
* [`dateformat`](#dateformat)
* [`dateyesterday`](#dateyesterday)
* [`delaycompress`](#delaycompress)
* [`extension`](#extension)
* [`ifempty`](#ifempty)
* [`ext_include`](#ext_include)
* [`mail`](#mail)
* [`maillast`](#maillast)
* [`maxage`](#maxage)
* [`maxsize`](#maxsize)
* [`minsize`](#minsize)
* [`missingok`](#missingok)
* [`olddir`](#olddir)
* [`postrotate`](#postrotate)
* [`prerotate`](#prerotate)
* [`firstaction`](#firstaction)
* [`lastaction`](#lastaction)
* [`lastaction_restart_logger`](#lastaction_restart_logger)
* [`logger_service`](#logger_service)
* [`rotate`](#rotate)
* [`size`](#size)
* [`sharedscripts`](#sharedscripts)
* [`shred`](#shred)
* [`shredcycles`](#shredcycles)
* [`start`](#start)
* [`su`](#su)
* [`su_user`](#su_user)
* [`su_group`](#su_group)
* [`tabooext`](#tabooext)

##### <a name="name"></a>`name`

Data type: `String`

Directly translates to the name of the file

##### <a name="log_files"></a>`log_files`

Data type: `Array[String[1]]`

The log file strings for all logs to be affected by this stanza

##### <a name="compress"></a>`compress`

Data type: `Optional[Boolean]`

If undefined it defaults to the setting in logrotate.

Default value: ``undef``

##### <a name="compresscmd"></a>`compresscmd`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="uncompresscmd"></a>`uncompresscmd`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="compressext"></a>`compressext`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="compressoptions"></a>`compressoptions`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="copy"></a>`copy`

Data type: `Boolean`



Default value: ``false``

##### <a name="copytruncate"></a>`copytruncate`

Data type: `Boolean`



Default value: ``false``

##### <a name="create"></a>`create`

Data type: `Pattern['\d{4} .+ .+']`



Default value: `'0640 root root'`

##### <a name="rotate_period"></a>`rotate_period`

Data type: `Optional[Logrotate::Periods]`



Default value: ``undef``

##### <a name="dateext"></a>`dateext`

Data type: `Optional[Boolean]`

If set to true log files will be rotated using a date extension.
If false nodateext is set and rotated logs use a number extension.
If undefined it defaults to the setting in logrotate

Default value: ``undef``

##### <a name="dateformat"></a>`dateformat`

Data type: `String[1]`



Default value: `'-%Y%m%d.%s'`

##### <a name="dateyesterday"></a>`dateyesterday`

Data type: `Optional[Boolean]`



Default value: ``undef``

##### <a name="delaycompress"></a>`delaycompress`

Data type: `Optional[Boolean]`



Default value: ``undef``

##### <a name="extension"></a>`extension`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="ifempty"></a>`ifempty`

Data type: `Boolean`



Default value: ``false``

##### <a name="ext_include"></a>`ext_include`

Data type: `Optional[Array[String[1]]]`

Corresponds to the ``include`` logrotate configuration since it is a
reserved word in Puppet

Default value: ``undef``

##### <a name="mail"></a>`mail`

Data type: `Optional[Simplib::EmailAddress]`



Default value: ``undef``

##### <a name="maillast"></a>`maillast`

Data type: `Boolean`

If false, mailfirst will be set. Ignored if $mail is `false`

Default value: ``true``

##### <a name="maxage"></a>`maxage`

Data type: `Optional[Integer[0]]`



Default value: ``undef``

##### <a name="maxsize"></a>`maxsize`

Data type: `Optional[Logrotate::Size]`



Default value: ``undef``

##### <a name="minsize"></a>`minsize`

Data type: `Optional[Logrotate::Size]`



Default value: ``undef``

##### <a name="missingok"></a>`missingok`

Data type: `Boolean`



Default value: ``false``

##### <a name="olddir"></a>`olddir`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: ``undef``

##### <a name="postrotate"></a>`postrotate`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="prerotate"></a>`prerotate`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="firstaction"></a>`firstaction`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="lastaction"></a>`lastaction`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="lastaction_restart_logger"></a>`lastaction_restart_logger`

Data type: `Boolean`

Restart ``$logger_service`` as a logrotate ``lastaction``

* Has no effect if ``$lastaction`` is set

Default value: ``false``

##### <a name="logger_service"></a>`logger_service`

Data type: `Optional[String[1]]`

The name of the service which will be restarted as a logrotate ``lastaction``

* NOTE: This will default to ``rsyslog`` unless otherwise specified either
  in the call to the define or as ``logrotate::logger_service``

Default value: `simplib::lookup('logrotate::logger_service', {'default_value' => 'rsyslog'})`

##### <a name="rotate"></a>`rotate`

Data type: `Optional[Integer[0]]`

The number of old log files to keep.
If undefined it defaults to the setting in logrotate

Default value: ``undef``

##### <a name="size"></a>`size`

Data type: `Optional[Logrotate::Size]`



Default value: ``undef``

##### <a name="sharedscripts"></a>`sharedscripts`

Data type: `Boolean`



Default value: ``true``

##### <a name="shred"></a>`shred`

Data type: `Optional[Boolean]`



Default value: ``undef``

##### <a name="shredcycles"></a>`shredcycles`

Data type: `Optional[Integer[0]]`



Default value: ``undef``

##### <a name="start"></a>`start`

Data type: `Integer[0]`



Default value: `1`

##### <a name="su"></a>`su`

Data type: `Boolean`

Rotate logs as a different user and group. $su_user and $su_group are
required if this is set to true. Ignored on EL6.

Default value: ``false``

##### <a name="su_user"></a>`su_user`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="su_group"></a>`su_group`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="tabooext"></a>`tabooext`

Data type: `Optional[Array[String[1]]]`



Default value: ``undef``

## Data types

### <a name="logrotateperiods"></a>`Logrotate::Periods`

Allowed time intervals for logrotate

Alias of

```puppet
Enum['hourly', 'daily', 'weekly', 'monthly', 'yearly']
```

### <a name="logrotatesize"></a>`Logrotate::Size`

Size of a log in bytes, kilobytes, megabytes or gigabytes

Alias of

```puppet
Variant[Integer[1], Pattern[/^[0-9]+[kMG]?$/]]
```

